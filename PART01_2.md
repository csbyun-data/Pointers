1.2 단일 포인터 선언 및 초기화
🧠 개요

포인터를 사용하기 위해서는 포인터 변수를 선언하고, 해당 변수에 유효한 주소를 초기화해야 합니다. 이 절에서는 단일(1차) 포인터 변수의 선언 방법, 초기화, 사용법을 중점적으로 학습합니다.

🔧 1. 포인터 변수의 선언
자료형 *포인터이름;


자료형은 가리키는 대상 변수의 타입이어야 합니다.

*는 "포인터"임을 나타냅니다.

✔ 예제
int *p;      // int형 변수를 가리키는 포인터
char *cp;    // char형 변수를 가리키는 포인터
float *fp;   // float형 변수를 가리키는 포인터

🔧 2. 포인터 초기화

포인터는 선언 직후 반드시 유효한 주소로 초기화해야 합니다. 그렇지 않으면 **쓰레기 주소(garbage address)**를 가리켜 프로그램이 오작동할 수 있습니다.

✔ 예제
int a = 10;
int *p = &a;  // 변수 a의 주소로 초기화

❗주의: 포인터 선언만 하고 초기화하지 않으면 위험합니다.
int *ptr;       // 선언만 했을 경우
*ptr = 100;     // 정의되지 않은 행동 (Segmentation Fault 가능성)

📌 잘못된 선언 주의
int* a, b; // a는 int형 포인터, b는 int형 변수 (혼동 주의)


명확하게 쓰는 것이 좋습니다:

int *a;
int b;

🔍 포인터 기본 사용 예제
🧪 예제 1: 포인터 선언, 초기화, 간접 참조
#include <stdio.h>

int main() {
    int x = 5;
    int *p = &x;

    printf("x의 값: %d\n", x);
    printf("x의 주소: %p\n", &x);
    printf("p가 저장한 주소: %p\n", p);
    printf("p가 가리키는 값: %d\n", *p);

    *p = 20;  // 포인터를 통해 x 값 변경

    printf("변경된 x의 값: %d\n", x);

    return 0;
}

✔ 출력 결과:
x의 값: 5
x의 주소: 0x7ffeefa91abc
p가 저장한 주소: 0x7ffeefa91abc
p가 가리키는 값: 5
변경된 x의 값: 20

🧪 예제 2: 초기화하지 않은 포인터 사용의 위험성
#include <stdio.h>

int main() {
    int *ptr;  // 초기화되지 않음

    *ptr = 100;  // 정의되지 않은 동작, 프로그램 크래시 가능
    printf("%d\n", *ptr);

    return 0;
}

❗결과:

대부분의 경우 실행 도중 Segmentation fault 발생

포인터는 반드시 유효한 주소로 초기화 후 사용해야 함

🧪 예제 3: NULL 포인터 초기화
#include <stdio.h>

int main() {
    int *p = NULL;

    if (p == NULL) {
        printf("포인터는 아직 유효한 주소를 가지고 있지 않습니다.\n");
    }

    return 0;
}


NULL 초기화는 포인터를 사용할 준비가 되지 않았을 때 잠정적 초기화로 유용합니다.

🧪 예제 4: 함수 내 포인터 초기화 및 사용
#include <stdio.h>

void show_address(int *p) {
    printf("함수 내에서 p의 값(주소): %p\n", p);
    printf("p가 가리키는 값: %d\n", *p);
}

int main() {
    int num = 123;
    show_address(&num);
    return 0;
}

📚 정리 요약
구분	내용	예
선언	자료형 *포인터명;	int *p;
초기화	주소 연산자(&) 사용	p = &x;
사용	*포인터명으로 값 접근	*p = 10;
안전한 초기화	int *p = NULL;	조건문 등으로 검사 가능
🧩 연습 문제

두 개의 int형 변수 a, b를 선언하고, 포인터를 사용해 두 변수의 값을 서로 바꾸는 코드를 작성해보세요.

float형 변수의 값을 포인터를 통해 증가시키는 예제를 작성해보세요.

초기화되지 않은 포인터를 사용할 때 발생할 수 있는 문제를 설명하고, 이를 방지하는 방법을 코드로 작성해보세요.

필요하시면 연습 문제 해설도 제공해드릴 수 있습니다.
