## 1.2 단일 포인터 선언 및 초기화  
  포인터를 사용하기 위해서는 포인터 변수를 선언하고, 해당 변수에 유효한 주소를 초기화해야 합니다. 이 절에서는 단일(1차) 포인터 변수의 선언 방법, 초기화, 사용법을 중점적으로 학습합니다.

### 1.2.1 포인터 변수의 선언
```c
자료형 *포인터이름;
```

* 자료형은 가리키는 대상 변수의 타입이어야 합니다.
* *는 "포인터"임을 나타냅니다.

예제 1: 포인터 선언 방법
```c
int *p;      // int형 변수를 가리키는 포인터
char *cp;    // char형 변수를 가리키는 포인터
float *fp;   // float형 변수를 가리키는 포인터
```

### 1.2.2 포인터 초기화
포인터는 선언 직후 반드시 유효한 주소로 초기화해야 합니다. 그렇지 않으면 **쓰레기 주소(garbage address)** 를 가리켜 프로그램이 오작동할 수 있습니다.

예제 2: 
```c
int a = 10;
int *p = &a;  // 변수 a의 주소로 초기화
```
❗주의: 포인터 선언만 하고 초기화하지 않으면 위험합니다.
```c
int *ptr;       // 선언만 했을 경우
*ptr = 100;     // 정의되지 않은 행동 (Segmentation Fault 가능성)
```
📌 잘못된 선언 주의
```c
int* a, b; // a는 int형 포인터, b는 일반 int형 변수 (혼동 주의)
```

위처럼 선언하면 혼란을 줄 수 있으므로 다음과 같이 명확하게 쓰는 것이 좋습니다:
```c
int *a;
int b;
```

### 1.2.3 포인터 기본 사용 예제  
예제 3: 포인터 선언, 초기화, 간접 참조
```c
#include <stdio.h>

int main() {
  int x = 5;
  int *p = &x;

  printf("x의 값: %d\n", x);
  printf("x의 주소: %p\n", &x);
  printf("p가 저장한 주소: %p\n", p);
  printf("p가 가리키는 값: %d\n", *p);

  *p = 20;  // 포인터를 통해 x 값 변경

  printf("변경된 x의 값: %d\n", x);

  return 0;
}
```
✔ 실행 결과:
``` text
x의 값: 5
x의 주소: 0x7ffeefa91abc
p가 저장한 주소: 0x7ffeefa91abc
p가 가리키는 값: 5
변경된 x의 값: 20
```

예제 4: 초기화하지 않은 포인터 사용의 위험성
```c
#include <stdio.h>

int main() {
    int *ptr;  // 초기화되지 않음

    *ptr = 100;  // 정의되지 않은 동작, 프로그램 크래시 가능
    printf("%d\n", *ptr);

    return 0;
}
```

❗결과:
* 대부분의 경우 실행 중 Segmentation fault 발생
* 포인터는 반드시 유효한 주소로 초기화한 후 사용해야 합니다.

예제 5: NULL 포인터 초기화 및 유효성 검사
```c
#include <stdio.h>

int main() {
  int *p = NULL;

  if ( p != NULL) {
    printf("p가 가리키는 값: %d\n", *p);  // 안전한 역참조
  } else {
    printf("포인터는 아직 유효한 주소를 가지고 있지 않습니다.\n");
  }

  return 0;
}
```
* 📌 NULL로 초기화하면, 포인터가 아직 유효한 주소를 갖지 않는다는 것을 명확히 표현할 수 있으며, 사용 전 검사에 유용합니다.
* 📌 p == NULL일 경우, 역참조(*p)를 하면 안 됩니다.

예제 6: 함수 내 포인터 초기화 및 포인터 유효성 확인
```c
#include <stdio.h>

void show_address(int *p) {
  if (p ==NULL ) {
    printf("잘못된 포인터입니다.\n");
    return;    
  }
  printf("함수 내에서 p의 값(주소): %p\n", p);
  printf("p가 가리키는 값: %d\n", *p);
}

int main() {
  int num = 123;
  show_address(&num);

  return 0;
}
```
예제 7: malloc() 사용 후 NULL 체크
```c
#include <stdio.h>
#include <stdlib.h>

int main() {
  int *ptr = (int *)malloc(sizeof(int));
  if (ptr == NULL) {
    printf("메모리 할당 실패\n");
    return 1;
  }
  
  *ptr = 50;
  printf("동적 메모리에 저장된 값: %d\n", *ptr);
  
  free(ptr);  // 메모리 해제

  return 0;
}
```

🧩 연습 문제
1. 두 개의 int형 변수 a, b를 선언하고, 포인터를 사용해 두 변수의 값을 서로 바꾸는 코드를 작성해보세요.  
    ```c
    int a = 10, b = 20;
    int *pa = &a;
    int *pb = &b;
    
    // 두 값 교환 코드 작성
    ```
3. float형 변수의 값을 포인터를 통해 증가시키는 예제를 작성해보세요.
    * float 변수 하나 선언 후, 그 주소를 포인터에 할당하세요.
    * 포인터를 역참조(*)해서 값을 읽고, 원하는 만큼 증가시켜 주세요.
    * *포인터 = *포인터 + 1.0f; 같은 식으로 값을 증가할 수 있습니다.

4. 초기화되지 않은 포인터를 사용할 때 발생할 수 있는 문제를 설명하고, 이를 방지하는 방법을 코드로 작성해보세요.
    * 초기화되지 않은 포인터를 사용하면 쓰레기 주소를 참조하여 프로그램이 크래시가 날 수 있습니다.
    * 포인터를 NULL로 초기화하는 습관을 들이세요.
    * 포인터를 사용하기 전에는 항상 if (포인터 != NULL)으로 유효성 검사를 하세요.

📚 요약
| 구분      | 내용               | 예             |
| ------- | ---------------- | ------------- |
| 선언      | `자료형 *포인터명;`     | `int *p;`     |
| 초기화     | 주소 연산자(`&`)로 주소 할당   | `p = &x;`     |
| 사용      | 역참조 연산자(`*`)로 값 접근/변경 | `*p = 10;`    |
| 안전한 초기화 | NULL로 초기화 후 조건문으로 검사 | `int *p = NULL;` `if (p != NULL)`|
