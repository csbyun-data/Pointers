## 1.7 ν¬μΈν„°μ™€ λ°°μ—΄

λ°°μ—΄κ³Ό ν¬μΈν„°λ” C μ–Έμ–΄μ—μ„ λ°€μ ‘ν• κ΄€κ³„λ¥Ό κ°–κ³  μμΌλ©°, λ§μ€ κ²½μ°μ— λ°°μ—΄ μ΄λ¦„μ΄ ν¬μΈν„°μ²λΌ λ™μ‘ν•©λ‹λ‹¤. ν•μ§€λ§ λ°°μ—΄κ³Ό ν¬μΈν„°λ” λ™μΌν•μ§€ μ•μΌλ©°, κµ¬μ²΄μ μΈ μ°¨μ΄μ™€ μ‚¬μ©λ²•μ„ μ΄ν•΄ν•΄μ•Ό ν•©λ‹λ‹¤.

### 1.7.1 1μ°¨μ› λ°°μ—΄κ³Ό ν¬μΈν„°  
* λ°°μ—΄μ μ΄λ¦„μ€ ν•΄λ‹Ή λ°°μ—΄μ μ²« λ²μ§Έ μ”μ†μ μ£Όμ†λ¥Ό κ°€λ¦¬ν‚¤λ” μ‹¬λ³Ό μ…λ‹λ‹¤.
* λ°°μ—΄μ„ ν†µν•΄μ„λ“  ν¬μΈν„°λ¥Ό ν†µν•΄μ„λ“  λ™μΌν• λ°©μ‹μΌλ΅ μ”μ†μ— μ ‘κ·Όν•  μ μμµλ‹λ‹¤.

μμ  1:
```c
#include <stdio.h>

int main() {
  int arr[5] = {10, 20, 30, 40, 50};
  int *ptr = arr;

  printf("arr[0] = %d\n", arr[0]);     // λ°°μ—΄μ„ μ΄μ©ν• μ ‘κ·Ό
  printf("*ptr = %d\n", *ptr);         // ν¬μΈν„°λ¥Ό μ΄μ©ν• μ ‘κ·Ό
  printf("*(arr + 2) = %d\n", *(arr + 2)); // ν¬μΈν„° μ—°μ‚°
  printf("ptr[3] = %d\n", ptr[3]);     // ν¬μΈν„°λ„ λ°°μ—΄μ²λΌ μ‚¬μ© κ°€λ¥

  return 0;
}
```
* ν¬μΈν„° μ”μ•½

| ν‘ν„           | μλ―Έ                       | μμ‹ κ°’ (`arr[5] = {10,20,30,...}`) |
| ------------ | ------------------------ | -------------------------------- |
| `arr`        | `&arr[0]`κ³Ό λ™μΌ (λ°°μ—΄ μ‹μ‘ μ£Όμ†) | `arr == &arr[0]`                 |
| `arr[i]`     | iλ²μ§Έ μ”μ†                   | `arr[2] == 30`                   |
| `*(arr + i)` | iλ²μ§Έ μ”μ† (ν¬μΈν„° λ°©μ‹ μ ‘κ·Ό)       | `*(arr + 2) == 30`               |
| `ptr[i]`     | ν¬μΈν„°λ¥Ό λ°°μ—΄μ²λΌ μ‚¬μ©             | `ptr = arr; ptr[3] == 40`        |
| `*(ptr + i)` | ν¬μΈν„° μ—°μ‚°                   | `*(ptr + 4) == 50`               |

> λ°°μ—΄ μ΄λ¦„μ€ λ°°μ—΄ μ „μ²΄λ¥Ό λ‚νƒ€λ‚΄λ” μ‹λ³„μλ΅, λ°°μ—΄μ μ²« λ²μ§Έ μ”μ† μ£Όμ†λ΅ ν‰κ°€λ  μ μμ§€λ§, μ¬ν• λ‹Ήμ€ λ¶κ°€λ¥ν•λ‹¤.
> (arr = ptr; μ¬ν• λ‹Ή λ¶κ°€), λ°°μ—΄ μ΄λ¦„ μμ²΄κ°€ lvalueκ°€ λ  μ μ—†μ

### 1.7.2 2μ°¨μ› λ°°μ—΄κ³Ό ν¬μΈν„°  
* 2μ°¨μ› λ°°μ—΄μ€ λ°°μ—΄μ λ°°μ—΄μ…λ‹λ‹¤.
* ν¬μΈν„°λ¥Ό μ΄μ©ν•΄ 2μ°¨μ› λ°°μ—΄μ μ”μ†μ— μ ‘κ·Όν•  μ μμ§€λ§, ν¬μΈν„°μ νƒ€μ…μ„ μ •ν™•ν μ΄ν•΄ν•΄μ•Ό ν•©λ‹λ‹¤.
```c
int arr[2][3] = {{1, 2, 3}, {4, 5, 6}};
```
μμ  2: 2μ°¨μ› λ°°μ—΄κ³Ό λ°°μ—΄μ ν¬κΈ°, μ£Όμ†, μ£Όμ†μ—°μ‚°
```c
#include <stdio.h>
int main() {
  int iarr[2][3] = {{1, 2, 3}, {4, 5, 6}};  // intν• 4byte

  printf("%d, %d, %d\n", sizeof(iarr), sizeof(iarr[0]), sizeof(iarr[1])); // 24, 12, 12, λ°°μ—΄μ ν¬κΈ°
  printf("%x, %x, %x, %x\n", iarr, iarr[0], &iarr[0][0], iarr[1]); // 62fe00, 62fe00, 62fe00, 62fe0c, λ°°μ—΄ μ£Όμ†
  printf("%x, %x, %x, %x\n", iarr+1, iarr[0]+1, &iarr[0][0]+1, iarr[1]+1); // 62fe0c, 62fe04, 62fe04, 62fe10, λ°°μ—΄μ£Όμ† μ—°μ‚°

  return 1;
}
```

μμ  3: 2μ°¨μ› λ°°μ—΄κ³Ό λ°°μ—΄μ μ΄λ¦„μ„ μ΄μ©ν• μ”μ†, κ°’μ— μ ‘κ·Ό
```c
#include <stdio.h>
int main() {
  int iarr[2][3] = {{1, 2, 3}, {4, 5, 6}};  // intν• 4byte

  printf("%x, %x, %d\n", iarr, *iarr, **iarr);           // 62fe00, 62fe00, 1
  printf("%x, %x, %d\n", iarr, iarr[0], iarr[0][0]);     // 62fe00, 62fe00, 1
  printf("%x, %x, %d\n", iarr+1, *(iarr+1), **(iarr+1)); // 62fe0c, 62fe0c, 4

  return 1;
}
```

| ν‘ν„                  | μλ―Έ                 | κ²°κ³Ό                       |
| ------------------- | ------------------ | ------------------------ |
| `arr[i][j]`         | iν–‰ jμ—΄μ μ”μ†          | `arr[1][2] == 6`         |
| `*(*(arr + i) + j)` | ν¬μΈν„° μ—°μ‚°μΌλ΅ λ™μΌν• μ”μ† μ ‘κ·Ό | `*(*(arr + 1) + 2) == 6` |

μμ  4: 2μ°¨μ› λ°°μ—΄κ³Ό ν¬μΈν„° μ ‘κ·Ό
```c
#include <stdio.h>

int main() {
  int arr[2][3] = {{1, 2, 3}, {4, 5, 6}};

  printf("arr[1][2] = %d\n", arr[1][2]);                 // 6
  printf("*(arr[1] + 2) = %d\n", *(arr[1]+2));           // 6
  printf("*(*(arr + 1) + 2) = %d\n", *(*(arr + 1) + 2)); // 6

  return 0;
}
```

* λ°°μ—΄ ν¬μΈν„°μ μ„ μ–Έ
```c
int (*ptr)[3]; // '3κ°μ intλ¥Ό κ°€μ§„ λ°°μ—΄'μ„ κ°€λ¦¬ν‚¤λ” ν¬μΈν„°
int arr[2][3];
ptr = arr; // OK
```
  * 2μ°¨μ› λ°°μ—΄ ν•¨μ μ „λ‹¬ μ‹ void f(int arr[][3]) μ™€ void f(int (*arr)[3])λ” λ™μΌ ν‘ν„
  * ptr + 1 β†’ λ‹¤μ ν–‰μΌλ΅ μ΄λ™ (int[3] ν¬κΈ°λ§νΌ)

### 1.7.3 λ°°μ—΄ ν¬μΈν„° vs ν¬μΈν„° λ°°μ—΄
| κµ¬λ¶„     | μ„ μ–Έ             | μ„¤λ…                              |
| ------ | -------------- | ------------------------------- |
| λ°°μ—΄ ν¬μΈν„° | `int (*p)[3];` | μ •μ 3κ°μ§λ¦¬ λ°°μ—΄ ν•λ‚λ¥Ό κ°€λ¦¬ν‚΄ (`λ°°μ—΄ 1κ°`)    |
| ν¬μΈν„° λ°°μ—΄ | `int *p[3];`   | μ •μ ν¬μΈν„° 3κ°λ¥Ό μ›μ†λ΅ κ°–λ” λ°°μ—΄ (`ν¬μΈν„° 3κ°`) |

* λ°°μ—΄ ν¬μΈν„° (Pointer to Array)
```c
int (*p)[3]; // 3κ°μ intλ¥Ό κ°€μ§„ λ°°μ—΄μ„ κ°€λ¦¬ν‚¤λ” ν¬μΈν„°
```
* ν¬μΈν„° λ°°μ—΄ (Array of Pointers)
```c
int *p[3]; // intν• ν¬μΈν„° 3κ°λ¥Ό μ›μ†λ΅ κ°€μ§„ λ°°μ—΄
```
μμ  5:
```c
#include <stdio.h>

int main() {
  int a = 10, b = 20, c = 30;
  int *p_arr[3] = {&a, &b, &c}; // ν¬μΈν„° λ°°μ—΄

  for (int i = 0; i < 3; i++) {
      printf("p_arr[%d] = %d\n", i, *p_arr[i]);
  }

  return 0;
}
```
π“ μμ  μ •λ¦¬
λ°°μ—΄μ„ ν¬μΈν„°λ΅ μν
```c
int arr[] = {1, 2, 3, 4, 5};
int *p = arr;

for (int i = 0; i < 5; i++) {
    printf("%d ", *(p + i));
}

2μ°¨μ› λ°°μ—΄μ„ ν•¨μμ— μ „λ‹¬
void print2D(int arr[][3], int row) {
  for (int i = 0; i < row; i++) {
    for (int j = 0; j < 3; j++) {
      printf("%d ", arr[i][j]);
    }
    printf("\n");
  }
}

int main() {
  int data[2][3] = {{1, 2, 3}, {4, 5, 6}};
  print2D(data, 2);

  return 0;
}
```
### 1.7.4 λ™μ  2D λ°°μ—΄κ³Ό λ‹¤μ°¨μ› λ°°μ—΄ κ΄€λ¦¬
* μ •μ μΈ 2μ°¨μ› λ°°μ—΄(int arr[3][4])μ€ ν¬κΈ°κ°€ κ³ μ •λμ–΄ μμ§€λ§,
* λ™μ  2D λ°°μ—΄μ€ λ°νƒ€μ„μ— λ©”λ¨λ¦¬λ¥Ό ν• λ‹Ήν•κ³  μ μ—°ν•κ² μ‚¬μ©ν•  μ μμµλ‹λ‹¤.

* Cμ—μ„ λ™μ  2D λ°°μ—΄μ„ λ§λ“λ” λ°©λ²•μ€ ν¬κ² 3κ°€μ§€μ…λ‹λ‹¤:

| λ°©λ²•                | μ„¤λ…                                           |
| ----------------- | -------------------------------------------- |
| 1. ν¬μΈν„° λ°°μ—΄         | `int* arr[n]` ν•νƒλ΅ ν–‰λ§λ‹¤ λ³„λ„ λ©”λ¨λ¦¬ ν• λ‹Ή              |
| 2. μ΄μ¤‘ ν¬μΈν„°         | `int** arr`μ„ μ‚¬μ©ν•΄ μ „μ²΄ κµ¬μ΅°λ¥Ό μ™„μ „ν λ™μ  μƒμ„±            |
| 3. 1D λ°°μ—΄μ„ 2Dμ²λΌ μ ‘κ·Ό | `int* arr = malloc(row * col * sizeof(int))` |

#### ν¬μΈν„° λ°°μ—΄
μμ  1: ν¬μΈν„° λ°°μ—΄ (ν–‰ κ³ μ •, μ—΄ κ°€λ³€ κ°€λ¥)
```C
#include <stdio.h>
#include <stdlib.h>

int main() {
  int rows = 3, cols = 4;
  int* arr[3]; // μ •μ  ν¬μΈν„° λ°°μ—΄
  
  // κ° ν–‰μ— λ™μ  ν• λ‹Ή
  for (int i = 0; i < rows; i++) {
    arr[i] = (int*)malloc(cols * sizeof(int));
  }
  
  // κ°’ ν• λ‹Ή λ° μ¶λ ¥
  for (int i = 0; i < rows; i++) {
    for (int j = 0; j < cols; j++) {
      arr[i][j] = i * cols + j;
      printf("%2d ", arr[i][j]);
    }
    printf("\n");
  }
  
  // λ©”λ¨λ¦¬ ν•΄μ 
  for (int i = 0; i < rows; i++) {
    free(arr[i]);
  }
  
  return 0;
}
```

#### μ΄μ¤‘ ν¬μΈν„°
μμ  2: μ΄μ¤‘ ν¬μΈν„° (int**)
```C
#include <stdio.h>
#include <stdlib.h>

int main() {
  int rows = 3, cols = 4;
  int** arr;

  // ν–‰ ν¬μΈν„° λ°°μ—΄ ν• λ‹Ή
  arr = (int**)malloc(rows * sizeof(int*));

  // κ° ν–‰μ— μ—΄ ν• λ‹Ή
  for (int i = 0; i < rows; i++) {
    arr[i] = (int*)malloc(cols * sizeof(int));
  }

  // κ°’ ν• λ‹Ή λ° μ¶λ ¥
  for (int i = 0; i < rows; i++) {
    for (int j = 0; j < cols; j++) {
      arr[i][j] = i + j;
      printf("%2d ", arr[i][j]);
    }
    printf("\n");
  }

  // λ©”λ¨λ¦¬ ν•΄μ 
  for (int i = 0; i < rows; i++) {
    free(arr[i]);
  }
  free(arr);

  return 0;
}
```

#### 1μ°¨μ› λ°°μ—΄λ΅ λ‹¤μ°¨μ› λ°°μ—΄μ²λΌ μ‚¬μ©

μμ  3: 1μ°¨μ› λ°°μ—΄λ΅ λ‹¤μ°¨μ› λ°°μ—΄μ²λΌ μ‚¬μ©
```C
#include <stdio.h>
#include <stdlib.h>

int main() {
  int rows = 3, cols = 4;
  int* arr = (int*)malloc(rows * cols * sizeof(int));

  // κ°’ ν• λ‹Ή λ° μ¶λ ¥ (2Dμ²λΌ μ ‘κ·Ό)
  for (int i = 0; i < rows; i++) {
    for (int j = 0; j < cols; j++) {
      *(arr + i * cols + j) = i * cols + j;
      printf("%2d ", *(arr + i * cols + j));
    }
    printf("\n");
  }

  free(arr);
  return 0;
}
```

* μ¥μ : λ©”λ¨λ¦¬ μ—°μ†μ„± β†‘, μΊμ‹ ν¨μ¨ β†‘
* λ‹¨μ : κ°€λ…μ„± β†“, μΈλ±μ‹± μλ™ μ²λ¦¬ ν•„μ”

* μ–Έμ  μ–΄λ–¤ λ°©μ‹ μ¨μ•Ό ν• κΉ?
 
| λ°©μ‹     | μ¥μ                | λ‹¨μ                 |
| ------ | ---------------- | ----------------- |
| ν¬μΈν„° λ°°μ—΄ | ν–‰λ§λ‹¤ ν¬κΈ° λ‹¤λ¥΄κ² μ„¤μ • κ°€λ¥ | ν–‰ μλ” κ³ μ •           |
| μ΄μ¤‘ ν¬μΈν„° | μ™„μ „ν• λ™μ  μƒμ„±        | λ©”λ¨λ¦¬ κ΄€λ¦¬ λ³µμ΅         |
| 1D λ°°μ—΄  | μ—°μ†λ λ©”λ¨λ¦¬, λΉ λ¦„      | μΈλ±μ‹± μλ™, μ½”λ“ κ°€λ…μ„± λ‚®μ |


β… μ—°μµ λ¬Έμ 

1. ν¬μΈν„°λ¥Ό μ‚¬μ©ν•μ—¬ 1μ°¨μ› λ°°μ—΄μ λ¨λ“  μ”μ†λ¥Ό μ¶λ ¥ν•λ” ν•¨μλ¥Ό μ‘μ„±ν•΄λ³΄μ„Έμ”.
```c
#include <stdio.h>

void printArray(int *arr, int size) {
  for (int i = 0; i < size; i++) {
    printf("%d ", *(arr + i));  // λλ” arr[i]
  }
  printf("\n");
}

int main() {
  int data[5] = {10, 20, 30, 40, 50};
  printArray(data, 5);
  return 0;
}
```
2. ν¬μΈν„°λ¥Ό μ΄μ©ν•μ—¬ 2μ°¨μ› λ°°μ—΄μ ν•©μ„ κµ¬ν•λ” μ½”λ“λ¥Ό μ‘μ„±ν•΄λ³΄μ„Έμ”.
```c
#include <stdio.h>

int sum2D(int (*arr)[3], int row) {
  int sum = 0;
  for (int i = 0; i < row; i++) {
    for (int j = 0; j < 3; j++) {
      sum += *(*(arr + i) + j);  // λλ” arr[i][j]
    }
  }
  return sum;
}

int main() {
  int mat[2][3] = {{1, 2, 3}, {4, 5, 6}};
  printf("ν•©κ³„: %d\n", sum2D(mat, 2));  // μ¶λ ¥: 21
  return 0;
}
```
3. λ°°μ—΄ ν¬μΈν„°μ™€ ν¬μΈν„° λ°°μ—΄μ μ°¨μ΄λ¥Ό μ„¤λ…ν•κ³  κ°κ° μμ λ¥Ό λ§λ“¤μ–΄λ³΄μ„Έμ”.
* ν¬μΈν„° λ°°μ—΄ (int *p[3])
```c
#include <stdio.h>

int main() {
  int a = 1, b = 2, c = 3;
  int *p[3] = {&a, &b, &c};  // ν¬μΈν„° λ°°μ—΄

  for (int i = 0; i < 3; i++) {
    printf("%d ", *p[i]);  // μ¶λ ¥: 1 2 3
  }
  return 0;
}
```
* λ°°μ—΄ ν¬μΈν„° (int (*p)[3])
```c
#include <stdio.h>

int main() {
  int arr[2][3] = {{1, 2, 3}, {4, 5, 6}};
  int (*p)[3] = arr;  // λ°°μ—΄ ν¬μΈν„°

  for (int i = 0; i < 2; i++) {
    for (int j = 0; j < 3; j++) {
      printf("%d ", p[i][j]);  // μ¶λ ¥: 1 2 3 4 5 6
    }
  }
  return 0;
}
```

* μ°¨μ΄ μ”μ•½

|κµ¬λ¶„            | λ©”λ¨λ¦¬ κµ¬μ΅°         | μ©λ„                     |  
| ------------- | -------------- | ---------------------- |  
| `int *p_arr[3]`   | ν¬μΈν„° 3κ° (κ°κ° λ”°λ΅) | μ—¬λ¬ λ³€μμ μ£Όμ† μ €μ¥           |  
| `int (*p_arr_ptr)[3]` | λ°°μ—΄ ν• λ©μ–΄λ¦¬λ¥Ό κ°€λ¦¬ν‚΄  | 2μ°¨μ› λ°°μ—΄, λ°°μ—΄ λ§¤κ°λ³€μλ΅ μμ£Ό μ‚¬μ© |  

π“ μ”μ•½
| λ‚΄μ©           | μ”μ  μ •λ¦¬                                       |
| ------------ | ------------------------------------------- |
| λ°°μ—΄ μ΄λ¦„ `arr`  | λ°°μ—΄μ μ‹μ‘ μ£Όμ† (μƒμ ν¬μΈν„°)                          |
| ν¬μΈν„° μ ‘κ·Ό       | `*(arr + i)`, `ptr[i]` λ“± κ°€λ¥                 |
| λ°°μ—΄ ν¬μΈν„°       | `int (*p)[N]` β†’ λ°°μ—΄ μ „μ²΄λ¥Ό κ°€λ¦¬ν‚΄                  |
| ν¬μΈν„° λ°°μ—΄       | `int *p[N]` β†’ ν¬μΈν„° μ—¬λ¬ κ° μ €μ¥                   |
| 2μ°¨μ› λ°°μ—΄ ν•¨μ μ „λ‹¬ | `void f(int (*a)[COLS])` or `int a[][COLS]` |

