π”Ή 4.4 λ©”λ¨λ¦¬ λ„μ λ¬Έμ  (Memory Leak)  
β… κ°μ”

**λ©”λ¨λ¦¬ λ„μ(Memory Leak)** λ€,
λ™μ μΌλ΅ ν• λ‹Ήν• λ©”λ¨λ¦¬λ¥Ό ν•΄μ ν•μ§€ μ•κ³  ν”„λ΅κ·Έλ¨μ΄ μΆ…λ£λκ±°λ‚ λ£¨ν”„λ¥Ό λ°λ³µν•λ” κ²½μ°λ¥Ό λ§ν•©λ‹λ‹¤.

μ΄λ΅ μΈν•΄:

* μ‹μ¤ν… λ©”λ¨λ¦¬κ°€ μ μ  κ³ κ°

* ν”„λ΅κ·Έλ¨ μ„±λ¥ μ €ν•

* μ¥μ‹κ°„ μ‹¤ν–‰λλ” μ„λΉ„μ¤μ—μ„ μΉλ…μ  λ„μ λ°μƒ κ°€λ¥

β… μμ‹ 1: ν•΄μ λ¥Ό κΉλΉ΅ν• κ²½μ°
```cpp
void memoryLeak() {
    int* p = new int(100);
    // delete p;  β λΉ μ§ β†’ λ©”λ¨λ¦¬ λ„μ
}
```

μ΄ ν•¨μκ°€ μ—¬λ¬ λ² νΈμ¶λλ©΄ ν™μ— λ©”λ¨λ¦¬κ°€ κ³„μ† λ‚¨μ•„ μ‚¬μ©λμ§€ μ•κ² λ©λ‹λ‹¤.

β… μμ‹ 2: ν¬μΈν„° μ¬ν• λ‹Ή μ‹ μ΄μ „ λ©”λ¨λ¦¬ ν•΄μ  λ„λ½
```cpp
int* p = new int(10);
p = new int(20);  // β μ΄μ „ λ©”λ¨λ¦¬ μ£Όμ†λ” μƒμ–΄λ²„λ¦Ό (λ„μ λ°μƒ)
```

π“ μƒλ΅μ΄ μ£Όμ†λ¥Ό ν• λ‹Ήν•κΈ° μ „μ— deleteλ΅ κΈ°μ΅΄ λ©”λ¨λ¦¬λ¥Ό ν•΄μ ν•΄μ•Ό ν•©λ‹λ‹¤.

β… λ„μμ ν”ν• λ°μƒ μ§€μ 
| μƒν™©         | μ„¤λ…                                   |
| ---------- | ------------------------------------ |
| μμ™Έ λ°μƒ μ‹    | try λΈ”λ΅μ—μ„ new ν›„, μμ™Έ λ°μƒμΌλ΅ delete μ‹¤ν–‰ μ•λ¨ |
| λ³µμ΅ν• λ¶„κΈ° κµ¬μ΅°  | μΌλ¶€ κ²½λ΅μ—μ„λ§ delete λ„λ½                   |
| μ¬ν• λ‹Ή        | κΈ°μ΅΄ λ©”λ¨λ¦¬ ν•΄μ  μ—†μ΄ new λ‹¤μ‹ νΈμ¶               |
| λ°ν™λ ν¬μΈν„°    | μ‚¬μ©ν• ν›„ ν•΄μ ν•μ§€ μ•μ                        |
| κµ¬μ΅°μ²΄/ν΄λμ¤ λ©¤λ²„ | λ©¤λ²„ ν¬μΈν„°λ¥Ό μ†λ©Έμμ—μ„ ν•΄μ ν•μ§€ μ•μ                |

β… μμ™Έ λ°μƒ μ‹ λ„μ λ°©μ§€ μ (κΈ°λ³Έ λ°©μ‹)
```cpp
int* p = new int(50);
try {
    // μ½”λ“ μ¤‘ μμ™Έ λ°μƒ κ°€λ¥
    throw "error!";
    delete p;  // β μ‹¤ν–‰λμ§€ μ•μ
} catch (...) {
    std::cout << "μμ™Έ μ²λ¦¬ μ¤‘\n";
}
```
ν•΄κ²°μ±…: RAII νΉμ€ μ¤λ§νΈ ν¬μΈν„° μ‚¬μ©
β… ν•΄κ²° λ°©λ²• μ •λ¦¬
| λ°©λ²•         | μ„¤λ…                                       |
| ---------- | ---------------------------------------- |
| delete λ…μ‹  | λ¨λ“  newμ—λ” λ°λ“μ‹ delete ν•„μ”                   |
| μ¤λ§νΈ ν¬μΈν„° μ‚¬μ© | `std::unique_ptr`, `std::shared_ptr` ν™μ©  |
| RAII μ μ©    | μƒμ„±μμ—μ„ ν• λ‹Ή β†’ μ†λ©Έμμ—μ„ ν•΄μ                       |
| λ¶„μ„ λ„κµ¬ μ‚¬μ©   | Valgrind, Visual Leak Detector λ“±μΌλ΅ μ¶”μ  κ°€λ¥ |

β… μ¤λ§νΈ ν¬μΈν„° μ: λ©”λ¨λ¦¬ μλ™ κ΄€λ¦¬
```cpp
#include <memory>

void safeFunc() {
    std::unique_ptr<int> p = std::make_unique<int>(100);
    // ν•¨μ λλ‚λ©΄ μλ™ delete β†’ λ„μ μ—†μ
}
```
β… λ©”λ¨λ¦¬ λ„μ ν™•μΈ λ„κµ¬ μ (κ°„λ‹¨ μ„¤λ…)
| λ„κµ¬                                 | μ„¤λ…                       |
| ---------------------------------- | ------------------------ |
| **Valgrind** (Linux)               | λ°νƒ€μ„ λ©”λ¨λ¦¬ λ„μ κ²€μ‚¬ λ„κµ¬         |
| **Visual Leak Detector** (Windows) | Visual Studioμ© λ„μ λ¶„μ„κΈ°    |
| **AddressSanitizer**               | GCC/Clang μ§€μ›, κ°•λ ¥ν• λ©”λ¨λ¦¬ κ²€μ‚¬ |

π“ μ”μ•½
| ν•­λ©      | μ„¤λ…                                      |
| ------- | --------------------------------------- |
| λ©”λ¨λ¦¬ λ„μλ€ | λ™μ μΌλ΅ ν• λ‹Ήν• λ©”λ¨λ¦¬λ¥Ό ν•΄μ ν•μ§€ μ•μ                   |
| μ¦μƒ      | λ©”λ¨λ¦¬ μ‚¬μ©λ‰ μ¦κ°€, μ„±λ¥ μ €ν•, μ‹μ¤ν… λ¶μ•μ •              |
| μ›μΈ      | delete λ„λ½, μμ™Έ μ²λ¦¬ λ¶€μ¬, μ¬ν• λ‹Ή μ‹ ν•΄μ  λ„λ½ λ“±      |
| ν•΄κ²°μ±…     | RAII, μ¤λ§νΈ ν¬μΈν„°, λ¶„μ„ λ„κµ¬ μ‚¬μ©, κµ¬μ΅°ν™”λ λ©”λ¨λ¦¬ κ΄€λ¦¬ μµκ΄€ |
